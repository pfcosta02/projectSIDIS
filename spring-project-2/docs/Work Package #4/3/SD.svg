<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="319px" preserveAspectRatio="none" style="width:1313px;height:319px;background:#FFFFFF;" version="1.1" viewBox="0 0 1313 319" width="1313px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="195.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="267.5" y="69.9609"/><rect fill="#FFFFFF" height="134.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="631.5" y="100.3125"/><rect fill="#FFFFFF" height="143.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="995.5" y="130.6641"/><rect fill="#FFFFFF" height="35.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1000.5" y="169.0156"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="46" x2="46" y1="37.6094" y2="283.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="272" x2="272" y1="37.6094" y2="283.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="636.5" x2="636.5" y1="37.6094" y2="283.0703"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1000" x2="1000" y1="37.6094" y2="283.0703"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="12" y="26.5332">:Moderator</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="5" y="282.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="12" y="303.6035">:Moderator</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="210" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="217" y="26.5332">:ReviewController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="210" y="282.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="217" y="303.6035">:ReviewController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="581.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="588.5" y="26.5332">:ReviewService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="581.5" y="282.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="588.5" y="303.6035">:ReviewService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="935" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="942" y="26.5332">:ReviewRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="935" y="282.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="942" y="303.6035">:ReviewRepository</text><rect fill="#FFFFFF" height="195.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="267.5" y="69.9609"/><rect fill="#FFFFFF" height="134.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="631.5" y="100.3125"/><rect fill="#FFFFFF" height="143.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="995.5" y="130.6641"/><rect fill="#FFFFFF" height="35.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1000.5" y="169.0156"/><polygon fill="#181818" points="255.5,65.9609,265.5,69.9609,255.5,73.9609,259.5,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="46.5" x2="261.5" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="53.5" y="65.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="64.5" y="65.1045">PUT partialUpdate(reviewId,state)</text><polygon fill="#181818" points="619.5,96.3125,629.5,100.3125,619.5,104.3125,623.5,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="277.5" x2="625.5" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="284.5" y="95.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="324" x="295.5" y="95.4561">partialUpdate(Long id, Review resource, long parseLong)</text><polygon fill="#181818" points="983.5,126.6641,993.5,130.6641,983.5,134.6641,987.5,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="641.5" x2="989.5" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="648.5" y="125.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="324" x="659.5" y="125.8076">partialUpdate(Long id, Review resource, long parseLong)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1005.5" x2="1052.5" y1="156.0156" y2="156.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052.5" x2="1052.5" y1="156.0156" y2="169.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="1011.5" x2="1052.5" y1="169.0156" y2="169.0156"/><polygon fill="#181818" points="1021.5,165.0156,1011.5,169.0156,1021.5,173.0156,1017.5,169.0156" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1017.5" y="151.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="1028.5" y="151.1592">applyPatch(Review review, Long desiredVersion)</text><polygon fill="#181818" points="652.5,200.3672,642.5,204.3672,652.5,208.3672,648.5,204.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="646.5" x2="994.5" y1="204.3672" y2="204.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="658.5" y="199.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="669.5" y="199.5107">success</text><polygon fill="#181818" points="288.5,230.7188,278.5,234.7188,288.5,238.7188,284.5,234.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="282.5" x2="635.5" y1="234.7188" y2="234.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="294.5" y="229.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="305.5" y="229.8623">success</text><polygon fill="#181818" points="57.5,261.0703,47.5,265.0703,57.5,269.0703,53.5,265.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51.5" x2="271.5" y1="265.0703" y2="265.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="63.5" y="260.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="74.5" y="260.2139">success</text><!--MD5=[e7db717afb1dbd0b884e941806894a99]
@startuml
'https://plantuml.com/sequence-diagram
autoactivate on
autonumber

participant ":Moderator" as Moderator
participant ":ReviewController" as Controller
participant ":ReviewService" as Service
participant ":ReviewRepository" as Repository

Moderator -> Controller : PUT partialUpdate(reviewId,state)
Controller -> Service : partialUpdate(Long id, Review resource, long parseLong)
Service -> Repository : partialUpdate(Long id, Review resource, long parseLong)
Repository -> Repository : applyPatch(Review review, Long desiredVersion)
Repository - -> Service : success
Service - -> Controller : success
Controller - -> Moderator : success

@enduml

@startuml
autoactivate on
autonumber

participant ":Moderator" as Moderator
participant ":ReviewController" as Controller
participant ":ReviewService" as Service
participant ":ReviewRepository" as Repository

Moderator -> Controller : PUT partialUpdate(reviewId,state)
Controller -> Service : partialUpdate(Long id, Review resource, long parseLong)
Service -> Repository : partialUpdate(Long id, Review resource, long parseLong)
Repository -> Repository : applyPatch(Review review, Long desiredVersion)
Repository - -> Service : success
Service - -> Controller : success
Controller - -> Moderator : success

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>