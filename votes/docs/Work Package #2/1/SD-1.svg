<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="618px" preserveAspectRatio="none" style="width:1036px;height:618px;background:#FFFFFF;" version="1.1" viewBox="0 0 1036 618" width="1036px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="493.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="151.5" y="69.9609"/><rect fill="#FFFFFF" height="311.4219" style="stroke:#181818;stroke-width:1.0;" width="10" x="285.5" y="221.7188"/><rect fill="#FFFFFF" height="190.0156" style="stroke:#181818;stroke-width:1.0;" width="10" x="436.5" y="252.0703"/><rect fill="#FFFFFF" height="41.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="545.5" y="333.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="682.5" y="472.4375"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="813" y="100.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="960" y="130.6641"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="44" x2="44" y1="37.6094" y2="581.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="156" x2="156" y1="37.6094" y2="581.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="290.5" x2="290.5" y1="37.6094" y2="581.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="441" x2="441" y1="37.6094" y2="581.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="550.5" x2="550.5" y1="291.375" y2="581.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="687" x2="687" y1="37.6094" y2="581.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="818" x2="818" y1="37.6094" y2="581.4922"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="964.5" x2="964.5" y1="37.6094" y2="581.4922"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="12" y="26.5332">:Customer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="5" y="580.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="12" y="602.0254">:Customer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="94" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="101" y="26.5332">:ReviewController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="94" y="580.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="101" y="602.0254">:ReviewController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="235.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="242.5" y="26.5332">:ReviewService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="235.5" y="580.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="242.5" y="602.0254">:ReviewService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="410" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="417" y="26.5332">:Review</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="410" y="580.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="417" y="602.0254">:Review</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="512.5" y="580.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="519.5" y="602.0254">reviewObj</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="622" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="629" y="26.5332">:ReviewRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="622" y="580.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="629" y="602.0254">:ReviewRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="763" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="770" y="26.5332">ProductService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="763" y="580.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="770" y="602.0254">ProductService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="899.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="906.5" y="26.5332">ProductRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="899.5" y="580.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="906.5" y="602.0254">ProductRepository</text><rect fill="#FFFFFF" height="493.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="151.5" y="69.9609"/><rect fill="#FFFFFF" height="311.4219" style="stroke:#181818;stroke-width:1.0;" width="10" x="285.5" y="221.7188"/><rect fill="#FFFFFF" height="190.0156" style="stroke:#181818;stroke-width:1.0;" width="10" x="436.5" y="252.0703"/><rect fill="#FFFFFF" height="41.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="545.5" y="333.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="682.5" y="472.4375"/><rect fill="#FFFFFF" height="91.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="813" y="100.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="960" y="130.6641"/><polygon fill="#181818" points="139.5,65.9609,149.5,69.9609,139.5,73.9609,143.5,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="44.5" x2="145.5" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="51.5" y="65.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="62.5" y="65.1045">POST rate</text><polygon fill="#181818" points="801,96.3125,811,100.3125,801,104.3125,805,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161.5" x2="807" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="168.5" y="95.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="179.5" y="95.4561">findOne(productId)</text><polygon fill="#181818" points="948,126.6641,958,130.6641,948,134.6641,952,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="823" x2="954" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="830" y="125.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="841" y="125.8076">findById(productId)</text><polygon fill="#181818" points="834,157.0156,824,161.0156,834,165.0156,830,161.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="828" x2="964" y1="161.0156" y2="161.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="840" y="156.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="851" y="156.1592">product</text><polygon fill="#181818" points="172.5,187.3672,162.5,191.3672,172.5,195.3672,168.5,191.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166.5" x2="817" y1="191.3672" y2="191.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="178.5" y="186.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="189.5" y="186.5107">product</text><polygon fill="#181818" points="273.5,217.7188,283.5,221.7188,273.5,225.7188,277.5,221.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161.5" x2="279.5" y1="221.7188" y2="221.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="168.5" y="216.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="179.5" y="216.8623">create(resource)</text><polygon fill="#181818" points="424.5,248.0703,434.5,252.0703,424.5,256.0703,428.5,252.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="295.5" x2="430.5" y1="252.0703" y2="252.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="302.5" y="247.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="313.5" y="247.2139">newFrom(resource)</text><polygon fill="#181818" points="500.5,278.4219,510.5,282.4219,500.5,286.4219,504.5,282.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="446.5" x2="506.5" y1="282.4219" y2="282.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="453.5" y="277.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="464.5" y="277.5654">new()</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="512.5" y="260.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="519.5" y="281.6035">reviewObj</text><line style="stroke:#181818;stroke-width:1.0;" x1="550.5" x2="597.5" y1="320.0313" y2="320.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="597.5" x2="597.5" y1="320.0313" y2="333.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="556.5" x2="597.5" y1="333.0313" y2="333.0313"/><polygon fill="#181818" points="566.5,329.0313,556.5,333.0313,566.5,337.0313,562.5,333.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="562.5" y="315.1748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="573.5" y="315.1748">validate()</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="555.5" x2="597.5" y1="373.3828" y2="373.3828"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="597.5" x2="597.5" y1="373.3828" y2="386.3828"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="550.5" x2="597.5" y1="386.3828" y2="386.3828"/><polygon fill="#181818" points="560.5,382.3828,550.5,386.3828,560.5,390.3828,556.5,386.3828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="562.5" y="368.5264">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="580.5" y="368.5264">setRating(rating)</text><polygon fill="#181818" points="457.5,407.7344,447.5,411.7344,457.5,415.7344,453.5,411.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="451.5" x2="549.5" y1="411.7344" y2="411.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="463.5" y="406.8779">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="481.5" y="406.8779">obj</text><polygon fill="#181818" points="306.5,438.0859,296.5,442.0859,306.5,446.0859,302.5,442.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="440.5" y1="442.0859" y2="442.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="312.5" y="437.2295">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="330.5" y="437.2295">obj</text><polygon fill="#181818" points="670.5,468.4375,680.5,472.4375,670.5,476.4375,674.5,472.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="295.5" x2="676.5" y1="472.4375" y2="472.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="302.5" y="467.5811">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="320.5" y="467.5811">save(obj)</text><polygon fill="#181818" points="306.5,498.7891,296.5,502.7891,306.5,506.7891,302.5,502.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300.5" x2="686.5" y1="502.7891" y2="502.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="312.5" y="497.9326">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="330.5" y="497.9326">success</text><polygon fill="#181818" points="172.5,529.1406,162.5,533.1406,172.5,537.1406,168.5,533.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166.5" x2="289.5" y1="533.1406" y2="533.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="178.5" y="528.2842">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="196.5" y="528.2842">success</text><polygon fill="#181818" points="55.5,559.4922,45.5,563.4922,55.5,567.4922,51.5,563.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="49.5" x2="155.5" y1="563.4922" y2="563.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="61.5" y="558.6357">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="79.5" y="558.6357">success</text><!--MD5=[728b2cc833e956e0644987c5fc1f8890]
@startuml
'https://plantuml.com/sequence-diagram
autoactivate on
autonumber

participant ":Customer" as Customer
participant ":ReviewController" as Controller
participant ":ReviewService" as Service
participant ":Review" as Review
participant "reviewObj" as review
participant ":ReviewRepository" as Repository

Customer -> Controller : POST rate
Controller -> ProductService : findOne(productId)
ProductService -> ProductRepository : findById(productId)
ProductRepository - -> ProductService : product
ProductService - -> Controller : product
Controller -> Service : create(resource)
Service -> Review : newFrom(resource)
Review -> review** : new()
review -> review : validate()
review - -> review : setRating(rating)
review - -> Review : obj
Review - -> Service : obj
Service -> Repository : save(obj)
Repository - -> Service : success
Service - -> Controller : success
Controller - -> Customer : success

@enduml

@startuml
autoactivate on
autonumber

participant ":Customer" as Customer
participant ":ReviewController" as Controller
participant ":ReviewService" as Service
participant ":Review" as Review
participant "reviewObj" as review
participant ":ReviewRepository" as Repository

Customer -> Controller : POST rate
Controller -> ProductService : findOne(productId)
ProductService -> ProductRepository : findById(productId)
ProductRepository - -> ProductService : product
ProductService - -> Controller : product
Controller -> Service : create(resource)
Service -> Review : newFrom(resource)
Review -> review** : new()
review -> review : validate()
review - -> review : setRating(rating)
review - -> Review : obj
Review - -> Service : obj
Service -> Repository : save(obj)
Repository - -> Service : success
Service - -> Controller : success
Controller - -> Customer : success

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>