<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="496px" preserveAspectRatio="none" style="width:755px;height:496px;background:#FFFFFF;" version="1.1" viewBox="0 0 755 496" width="755px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="372.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="157.5" y="69.9609"/><rect fill="#FFFFFF" height="311.4219" style="stroke:#181818;stroke-width:1.0;" width="10" x="285" y="100.3125"/><rect fill="#FFFFFF" height="190.0156" style="stroke:#181818;stroke-width:1.0;" width="10" x="421" y="130.6641"/><rect fill="#FFFFFF" height="41.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="211.625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="679" y="351.0313"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="44" x2="44" y1="37.6094" y2="460.0859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="162" x2="162" y1="37.6094" y2="460.0859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="290" x2="290" y1="37.6094" y2="460.0859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="425.5" x2="425.5" y1="37.6094" y2="460.0859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="535" x2="535" y1="169.9688" y2="460.0859"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="683.5" x2="683.5" y1="37.6094" y2="460.0859"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="12" y="26.5332">:Customer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="5" y="459.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="12" y="480.6191">:Customer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="100" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="107" y="26.5332">:ReviewController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="100" y="459.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="107" y="480.6191">:ReviewController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="235" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="242" y="26.5332">:ReviewService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="235" y="459.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="242" y="480.6191">:ReviewService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="394.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="401.5" y="26.5332">:Review</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="394.5" y="459.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="401.5" y="480.6191">:Review</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="497" y="459.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="504" y="480.6191">reviewObj</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="618.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="625.5" y="26.5332">:ReviewRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="618.5" y="459.0859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="625.5" y="480.6191">:ReviewRepository</text><rect fill="#FFFFFF" height="372.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="157.5" y="69.9609"/><rect fill="#FFFFFF" height="311.4219" style="stroke:#181818;stroke-width:1.0;" width="10" x="285" y="100.3125"/><rect fill="#FFFFFF" height="190.0156" style="stroke:#181818;stroke-width:1.0;" width="10" x="421" y="130.6641"/><rect fill="#FFFFFF" height="41.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="530" y="211.625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="679" y="351.0313"/><polygon fill="#181818" points="145.5,65.9609,155.5,69.9609,145.5,73.9609,149.5,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="44.5" x2="151.5" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="51.5" y="65.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="62.5" y="65.1045">POST create()</text><polygon fill="#181818" points="273,96.3125,283,100.3125,273,104.3125,277,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="167.5" x2="279" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="174.5" y="95.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="185.5" y="95.4561">create(review)</text><polygon fill="#181818" points="409,126.6641,419,130.6641,409,134.6641,413,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="295" x2="415" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="302" y="125.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="313" y="125.8076">newFrom(review)</text><polygon fill="#181818" points="485,157.0156,495,161.0156,485,165.0156,489,161.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="431" x2="491" y1="161.0156" y2="161.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="438" y="156.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="449" y="156.1592">new()</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="497" y="138.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="504" y="160.1973">reviewObj</text><line style="stroke:#181818;stroke-width:1.0;" x1="535" x2="582" y1="198.625" y2="198.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="582" x2="582" y1="198.625" y2="211.625"/><line style="stroke:#181818;stroke-width:1.0;" x1="541" x2="582" y1="211.625" y2="211.625"/><polygon fill="#181818" points="551,207.625,541,211.625,551,215.625,547,211.625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="547" y="193.7686">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="558" y="193.7686">validate()</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="540" x2="582" y1="251.9766" y2="251.9766"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="582" x2="582" y1="251.9766" y2="264.9766"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="535" x2="582" y1="264.9766" y2="264.9766"/><polygon fill="#181818" points="545,260.9766,535,264.9766,545,268.9766,541,264.9766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="547" y="247.1201">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="558" y="247.1201">setState("Pending")</text><polygon fill="#181818" points="442,286.3281,432,290.3281,442,294.3281,438,290.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="436" x2="534" y1="290.3281" y2="290.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="448" y="285.4717">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="459" y="285.4717">review</text><polygon fill="#181818" points="306,316.6797,296,320.6797,306,324.6797,302,320.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300" x2="425" y1="320.6797" y2="320.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="312" y="315.8232">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="323" y="315.8232">review</text><polygon fill="#181818" points="667,347.0313,677,351.0313,667,355.0313,671,351.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="295" x2="673" y1="351.0313" y2="351.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="302" y="346.1748">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="313" y="346.1748">save(review)</text><polygon fill="#181818" points="306,377.3828,296,381.3828,306,385.3828,302,381.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="300" x2="683" y1="381.3828" y2="381.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="312" y="376.5264">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="330" y="376.5264">success</text><polygon fill="#181818" points="178.5,407.7344,168.5,411.7344,178.5,415.7344,174.5,411.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="172.5" x2="289" y1="411.7344" y2="411.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="184.5" y="406.8779">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="202.5" y="406.8779">success</text><polygon fill="#181818" points="55.5,438.0859,45.5,442.0859,55.5,446.0859,51.5,442.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="49.5" x2="161.5" y1="442.0859" y2="442.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="61.5" y="437.2295">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="79.5" y="437.2295">success</text><!--MD5=[14f9b33d8930779c4600feb4856cecf1]
@startuml
'https://plantuml.com/sequence-diagram
autoactivate on
autonumber

participant ":Customer" as Customer
participant ":ReviewController" as Controller
participant ":ReviewService" as Service
participant ":Review" as Review
participant "reviewObj" as review
participant ":ReviewRepository" as Repository

Customer -> Controller : POST create()
Controller -> Service : create(review)
Service -> Review : newFrom(review)
Review -> review** : new()
review -> review : validate()
review - -> review : setState("Pending")
review - -> Review : review
Review - -> Service : review
Service -> Repository : save(review)
Repository - -> Service : success
Service - -> Controller : success
Controller - -> Customer : success

@enduml

@startuml
autoactivate on
autonumber

participant ":Customer" as Customer
participant ":ReviewController" as Controller
participant ":ReviewService" as Service
participant ":Review" as Review
participant "reviewObj" as review
participant ":ReviewRepository" as Repository

Customer -> Controller : POST create()
Controller -> Service : create(review)
Service -> Review : newFrom(review)
Review -> review** : new()
review -> review : validate()
review - -> review : setState("Pending")
review - -> Review : review
Review - -> Service : review
Service -> Repository : save(review)
Repository - -> Service : success
Service - -> Controller : success
Controller - -> Customer : success

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>