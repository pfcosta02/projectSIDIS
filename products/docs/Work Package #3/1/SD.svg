<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="462px" preserveAspectRatio="none" style="width:702px;height:462px;background:#FFFFFF;" version="1.1" viewBox="0 0 702 462" width="702px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="369.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="54.5" y="47.6094"/><rect fill="#FFFFFF" height="321.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="252.5" y="95.3125"/><rect fill="#FFFFFF" height="219.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="257.5" y="188.3672"/><rect fill="#FFFFFF" height="291.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="408.5" y="125.6641"/><rect fill="#FFFFFF" height="158.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="413.5" y="218.7188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="552.5" y="256.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="552.5" y="316.7734"/><rect height="79.0547" style="stroke:#000000;stroke-width:1.5;fill:none;" width="468.5" x="10" y="54.6094"/><rect height="79.0547" style="stroke:#000000;stroke-width:1.5;fill:none;" width="468.5" x="10" y="147.6641"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="59" x2="59" y1="37.6094" y2="425.8281"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="257" x2="257" y1="37.6094" y2="425.8281"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="413.5" x2="413.5" y1="37.6094" y2="425.8281"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="557" x2="557" y1="37.6094" y2="425.8281"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="664" x2="664" y1="37.6094" y2="425.8281"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="27" y="26.5332">:Customer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="79" x="20" y="424.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="27" y="446.3613">:Customer</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="195" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="202" y="26.5332">:ReviewController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125" x="195" y="424.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="202" y="446.3613">:ReviewController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="358.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="365.5" y="26.5332">:ReviewService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="358.5" y="424.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="365.5" y="446.3613">:ReviewService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="492" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="499" y="26.5332">:ReviewRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="492" y="424.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="499" y="446.3613">:ReviewRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="633" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="640" y="26.5332">:Review</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="633" y="424.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="640" y="446.3613">:Review</text><rect fill="#FFFFFF" height="369.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="54.5" y="47.6094"/><rect fill="#FFFFFF" height="321.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="252.5" y="95.3125"/><rect fill="#FFFFFF" height="219.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="257.5" y="188.3672"/><rect fill="#FFFFFF" height="291.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="408.5" y="125.6641"/><rect fill="#FFFFFF" height="158.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="413.5" y="218.7188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="552.5" y="256.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="552.5" y="316.7734"/><path d="M10,54.6094 L175,54.6094 L175,62.9609 L165,72.9609 L10,72.9609 L10,54.6094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="468.5" x="10" y="54.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="120" x="25" y="69.1045">alt (if vote is a like)</text><polygon fill="#181818" points="240.5,91.3125,250.5,95.3125,240.5,99.3125,244.5,95.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.5" x2="246.5" y1="95.3125" y2="95.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71.5" y="90.4561">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="82.5" y="90.4561">PATCH upvote(reviewId)</text><polygon fill="#181818" points="396.5,121.6641,406.5,125.6641,396.5,129.6641,400.5,125.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="262.5" x2="402.5" y1="125.6641" y2="125.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="269.5" y="120.8076">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="280.5" y="120.8076">upvote(reviewId)</text><path d="M10,147.6641 L193,147.6641 L193,156.0156 L183,166.0156 L10,166.0156 L10,147.6641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="468.5" x="10" y="147.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138" x="25" y="162.1592">alt (if vote is a dislike)</text><polygon fill="#181818" points="245.5,184.3672,255.5,188.3672,245.5,192.3672,249.5,188.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="64.5" x2="251.5" y1="188.3672" y2="188.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71.5" y="183.5107">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="82.5" y="183.5107">PATCH downvote(reviewId)</text><polygon fill="#181818" points="401.5,214.7188,411.5,218.7188,401.5,222.7188,405.5,218.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="267.5" x2="407.5" y1="218.7188" y2="218.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="274.5" y="213.8623">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="285.5" y="213.8623">downvote(reviewId)</text><polygon fill="#181818" points="540.5,252.0703,550.5,256.0703,540.5,260.0703,544.5,256.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="423.5" x2="546.5" y1="256.0703" y2="256.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="430.5" y="251.2139">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="441.5" y="251.2139">findById(reviewId)</text><polygon fill="#181818" points="434.5,282.4219,424.5,286.4219,434.5,290.4219,430.5,286.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="428.5" x2="556.5" y1="286.4219" y2="286.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="440.5" y="281.5654">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="451.5" y="281.5654">review</text><polygon fill="#181818" points="540.5,312.7734,550.5,316.7734,540.5,320.7734,544.5,316.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="423.5" x2="546.5" y1="316.7734" y2="316.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="430.5" y="311.917">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="441.5" y="311.917">save(review)</text><polygon fill="#181818" points="434.5,343.125,424.5,347.125,434.5,351.125,430.5,347.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="428.5" x2="556.5" y1="347.125" y2="347.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="440.5" y="342.2686">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="451.5" y="342.2686">success</text><polygon fill="#181818" points="278.5,373.4766,268.5,377.4766,278.5,381.4766,274.5,377.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="272.5" x2="407.5" y1="377.4766" y2="377.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="284.5" y="372.6201">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="295.5" y="372.6201">success</text><polygon fill="#181818" points="75.5,403.8281,65.5,407.8281,75.5,411.8281,71.5,407.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69.5" x2="251.5" y1="407.8281" y2="407.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81.5" y="402.9717">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="99.5" y="402.9717">success</text><!--MD5=[bdf753a0011988adc950ac3dbd562e22]
@startuml
'https://plantuml.com/sequence-diagram
autoactivate on
autonumber


participant ":Customer" as Customer
participant ":ReviewController" as Controller
participant ":ReviewService" as Service
participant ":ReviewRepository" as Repository
participant ":Review" as Review

activate Customer

group alt (if vote is a like)
Customer -> Controller : PATCH upvote(reviewId)
Controller -> Service : upvote(reviewId)
end alt
group alt (if vote is a dislike)
Customer -> Controller : PATCH downvote(reviewId)
Controller -> Service : downvote(reviewId)
end alt
Service -> Repository : findById(reviewId)
Repository - -> Service : review
Service -> Repository: save(review)
Repository - -> Service: success
Service - -> Controller : success
Controller - -> Customer : success

@enduml

@startuml
autoactivate on
autonumber


participant ":Customer" as Customer
participant ":ReviewController" as Controller
participant ":ReviewService" as Service
participant ":ReviewRepository" as Repository
participant ":Review" as Review

activate Customer

group alt (if vote is a like)
Customer -> Controller : PATCH upvote(reviewId)
Controller -> Service : upvote(reviewId)
end alt
group alt (if vote is a dislike)
Customer -> Controller : PATCH downvote(reviewId)
Controller -> Service : downvote(reviewId)
end alt
Service -> Repository : findById(reviewId)
Repository - -> Service : review
Service -> Repository: save(review)
Repository - -> Service: success
Service - -> Controller : success
Controller - -> Customer : success

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>